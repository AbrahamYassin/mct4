'use client'
import { useState } from 'react'
export function Section({ title, children }){ return (<div><h3 className="font-semibold text-lg mb-2">{title}</h3>{children}</div>) }
export function TagEditor({ items=[], onChange, placeholder }){ const [v,setV]=useState(''); const add=()=>{ if(!v.trim())return; onChange([...items,v.trim()]); setV('') }; const rm=i=>onChange(items.filter((_,idx)=>idx!==i)); return (<div><div className="flex gap-2 mb-2"><input className="flex-1 border p-2 rounded-xl" placeholder={placeholder} value={v} onChange={e=>setV(e.target.value)} /><button onClick={add} className="btn btn-outline">Ajouter</button></div><div className="flex flex-wrap gap-2">{items.map((x,i)=>(<span key={i} className="px-2 py-1 bg-gray-100 rounded-full">{x} <button className="ml-1" onClick={()=>rm(i)}>×</button></span>))}</div></div>) }
export function ListEditor({ items=[], onChange, fields }){ const add=()=>onChange([...items,Object.fromEntries(fields.map(([k])=>[k,'']))]); const set=(i,k,val)=>onChange(items.map((it,idx)=>idx===i?{...it,[k]:val}:it)); const rm=i=>onChange(items.filter((_,idx)=>idx!==i)); return (<div className="space-y-3">{items.map((it,i)=>(<div key={i} className="p-3 border rounded-xl"><div className="grid md:grid-cols-2 gap-2">{fields.map(([k,l])=>k==='description'?<textarea key={k} className="border p-2 rounded-xl md:col-span-2" placeholder={l} value={it[k]||''} onChange={e=>set(i,k,e.target.value)} />:<input key={k} className="border p-2 rounded-xl" placeholder={l} value={it[k]||''} onChange={e=>set(i,k,e.target.value)} />)}</div><div className="text-right pt-2"><button onClick={()=>rm(i)} className="btn btn-outline text-red-600">Supprimer</button></div></div>))}<button onClick={add} className="btn btn-outline">Ajouter une entrée</button></div>) }
